# ======================================================================= #
# Main settings

# Shell and terminal
# ----------------------------------------------------------------------- #
# Set default shell
set -g default-shell "/bin/bash"
set -g default-command bash

# Save command history to file
# set -g history-file ~/.tmux_history

# Enable colors
set -g default-terminal "xterm-256color"

# Set scrollback buffer to 10000
set -g history-limit 10000

# Behavior and functionality
# ----------------------------------------------------------------------- #
# Make tmux more functional
set -g mouse on
set -s set-clipboard on

# Use Vim keys when in copy mode
set-window-option -g mode-keys vi

# If using Neovim, enable changing cursor from block to pipe
# set -g -a terminal-overrides ',*:Ss=\E[%p1%d q:Se=\E[2 q'

# Prevent delay when switching between normal and insert mode in Vim
set -sg escape-time 5

# Don't rename windows automatically
set -g allow-rename off


# ======================================================================= #
# Key bindings

# Prefix key
# ----------------------------------------------------------------------- #
# Set <Ctrl-Space> as the default prefix key
unbind C-b
set -g prefix C-Space
bind C-a send-prefix

# Copy mode
# ----------------------------------------------------------------------- #
unbind -T copy-mode-vi Space;
unbind -T copy-mode-vi Enter;
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "xsel --clipboard"
# Alternatively, xclip can be used
# bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "xclip -i -f -selection primary | xclip -i -selection clipboard"`

# Panes
# ----------------------------------------------------------------------- #
# Split panes
unbind '"'
unbind %
bind | split-window -h # <Ctrl-A> |
bind - split-window -v # <Ctrl-A> -

# Switch panes: <Ctrl-a> Arrow
unbind Left
unbind Right
unbind Up
unbind Down
bind Left select-pane -L
bind Right select-pane -R
bind Up select-pane -U
bind Down select-pane -D

# Resize panes: <Ctrl-a> <Ctrl-Arrow>
bind C-Left resize-pane -L 2
bind C-Right resize-pane -R 2
bind C-Up resize-pane -U 2
bind C-Down resize-pane -D 2

# Windows
# ----------------------------------------------------------------------- #
# Switch windows: <Alt-j> | <Alt-k>
bind -n M-j previous-window
bind -n M-k next-window

# Open and rename windows: <prefix> r | <prefix> w
unbind w
bind r command-prompt "rename-window '%%'"
bind w new-window -c "#{pane_current_path}"

# tmux.conf
# ----------------------------------------------------------------------- #
# Reload config file
unbind s
bind s source-file ~/.tmux.conf \; display-message "~/.tmux.conf reloaded"


# ======================================================================= #
# Visual settings

set -g status-style bg=default
set -g pane-border-style fg='#252323'
set -g pane-active-border-style fg='#252323'

